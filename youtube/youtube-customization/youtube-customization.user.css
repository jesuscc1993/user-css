/* ==UserStyle==
@name           YouTube - Customization
@description    Provides some extra customization options for YouTube.
@version        2022.11.23.21.30
@author         MetalTxus
@namespace      https://github.com/jesuscc1993/
@license        CC BY-SA 4.0
@preprocessor   stylus

@var text       grid-thumbnail-width            "Grid thumbnail width"                210px
@var text       rich-grid-thumbnail-width       "Rich grid thumbnail width"           336px
@var text       list-thumbnail-width            "List thumbnail width"                120px
@var text       drawer-width                    "App drawer width"                    240px
@var text       grid-max-width                  "Max grid width"                      1284px
@var color      sub-bg                          "Subtitle background color"           rgba(0, 0, 0, .72)
@var text       sub-border-radius               "Subtitle border radius"              0px
@var text       max-playlist-height             "Maximum playlist height"             460px
@var text       max-playlist-width              "Maximum playlist width"              402px

==/UserStyle== */
@-moz-document domain("youtube.com") {
	:root {
		thumbnail-aspect-ratio=9 / 16;

		--grid-thumbnail-height: grid-thumbnail-width * thumbnail-aspect-ratio;
		--grid-thumbnail-width: grid-thumbnail-width;

		--rich-grid-thumbnail-height: thumbnail-aspect-ratio;
		--rich-grid-thumbnail-width: rich-grid-thumbnail-width;

		--list-thumbnail-height: list-thumbnail-width * thumbnail-aspect-ratio;
		--list-thumbnail-width: list-thumbnail-width;
	}

	html:not(.style-scope) {
		--ytd-grid-max-width: grid-max-width;
		--ytd-grid-6-columns-width: var(--ytd-grid-max-width);

		--ytd-rich-grid-item-min-width: none;
		--ytd-rich-grid-item-max-width: none;
		--ytd-rich-grid-mini-item-min-width: none;
		--ytd-rich-grid-mini-item-max-width: none;
		--ytd-rich-grid-slim-item-max-width: none;
	}

	ytd-app {
		--app-drawer-width: drawer-width;
	}

	ytd-watch-flexy {
		--ytd-watch-flexy-panel-max-height: max-playlist-height !important;
		--ytd-watch-flexy-sidebar-width: max-playlist-width;
	}

	/* grid zoom */
	ytd-shelf-renderer ytd-thumbnail.ytd-grid-video-renderer {
		height: var(--grid-thumbnail-height);
	}

	ytd-shelf-renderer ytd-grid-video-renderer,
	ytd-shelf-renderer ytd-thumbnail,
	ytd-shelf-renderer ytd-reel-item-renderer {
		width: var(--grid-thumbnail-width) !important;
	}

	/* rich grid zoom */
	ytd-rich-grid-renderer ytd-thumbnail.ytd-rich-grid-media {
		height: var(--rich-grid-thumbnail-height);
	}

	ytd-rich-grid-renderer ytd-rich-item-renderer:not([is-slim-media]) {
		width: var(--rich-grid-thumbnail-width) !important;
		max-width: 25%;
	}

	/* shorts grid zoom */
	ytd-reel-shelf-renderer ytd-thumbnail.ytd-grid-video-renderer {
		height: var(--grid-thumbnail-height);
	}

	ytd-reel-shelf-renderer ytd-grid-video-renderer,
	ytd-reel-shelf-renderer ytd-thumbnail,
	ytd-reel-shelf-renderer ytd-reel-item-renderer {
		width: var(--grid-thumbnail-width) !important;
	}

	/* list zoom */
	#thumbnail-container.ytd-playlist-panel-video-renderer,
	#thumbnail-container.ytd-playlist-panel-video-renderer > ytd-thumbnail.ytd-playlist-panel-video-renderer,
	#thumbnail-container.ytd-playlist-panel-video-renderer img.yt-img-shadow,
	ytd-thumbnail.ytd-playlist-video-renderer,
	{
		max-height: none;
		max-width: none;
		height: var(--list-thumbnail-height);
		width: var(--list-thumbnail-width);
	}

	ytd-subscribe-button-renderer[button-style="COMPACT_GRAY"] tp-yt-paper-button.ytd-subscribe-button-renderer:not([subscribed]) {
		background-color: var(--yt-spec-brand-button-background);
		color: var(--yt-spec-static-brand-white);
	}

	ytd-guide-renderer.ytd-app {
		width: var(--app-drawer-width);
	}

	tp-yt-paper-item.ytd-guide-entry-renderer {
		padding: 0 16px;
	}

	ytd-app[guide-persistent-and-visible] ytd-page-manager.ytd-app {
		margin-left: var(--app-drawer-width);
	}

	.ytp-caption-segment {
		background: sub-bg !important;
	}

	.ytp-caption-segment:first-child {
		border-top-left-radius: sub-border-radius;
		border-bottom-left-radius: sub-border-radius;
	}

	.ytp-caption-segment:last-child {
		border-top-right-radius: sub-border-radius;
		border-bottom-right-radius: sub-border-radius;
	}
}