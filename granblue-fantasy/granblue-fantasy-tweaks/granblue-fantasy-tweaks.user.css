/* ==UserStyle==
@name           Granblue Fantasy Tweaks
@description    Tweaks certain aspects of the game.
@version        2022.12.25.16.05
@author         MetalTxus
@namespace      https://github.com/jesuscc1993/
@license        CC BY-SA 4.0
@preprocessor   uso
==/UserStyle== */

@-moz-document domain("granbluefantasy.jp") {
  :root {
    --c-scrollbar-bg: #000;
  }

  /* Scrollbar */
  ::-webkit-scrollbar,
  ::-webkit-scrollbar-corner,
  ::-webkit-scrollbar-track-piece {
    background: var(--c-scrollbar-bg) !important;
  }

  ::-webkit-scrollbar {
    width: 0px !important;
    height: 17px !important;
  }

  ::-webkit-scrollbar:vertical {
    border-radius: 8px !important;
  }

  ::-webkit-scrollbar-thumb {
    background: #0A0A0A;
    border: 3px solid var(--c-scrollbar-bg) !important;
    border-radius: 8px !important;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: #111;
  }

  /* updates */
  .prt-log-notice .btn-lis-log,
  .prt-no-header-log .btn-lis-log,
  .prt-log-notice-no-footer .btn-lis-log,
  .prt-log-notice .lis-log,
  .prt-no-header-log .lis-log,
  .prt-log-notice-no-footer .lis-log,
  .prt-log-notice .btn-lis-log.on,
  .prt-no-header-log .btn-lis-log.on,
  .prt-log-notice-no-footer .btn-lis-log.on,
  .prt-log-notice .lis-log.on,
  .prt-no-header-log .lis-log.on,
  .prt-log-notice-no-footer .lis-log.on {
    height: 28px;
  }
  .prt-log-notice .btn-lis-log .txt-log-date,
  .prt-no-header-log .btn-lis-log .txt-log-date,
  .prt-log-notice-no-footer .btn-lis-log .txt-log-date,
  .prt-log-notice .lis-log .txt-log-date,
  .prt-no-header-log .lis-log .txt-log-date,
  .prt-log-notice-no-footer .lis-log .txt-log-date {
    padding: 8px 5px;
  }

  /* bigger favourite item text */
  #treasure-footer .cnt-treasure-footer #prt-treasure-slider #treasure-list .lis-treasure .prt-treasure-wrapper .txt-treasure-num {
    font-size: 9.5px;
    text-shadow: 0 0 2px #000, 0 0 2px #000, 0 0 2px #000, 0 0 2px #000, 0 0 2px #000;
  }

  /* smaller profile support summons text */
  .prt-fix-summon .prt-fix-support-wrap .prt-fix-support .prt-fix-spec {
    font-size: 11px !important;
  }

  /*.common-pop-error {
    opacity: .5;
    pointer-events: none;
  }*/
  .mask {
    pointer-events: none;
  }

  /* .pop-show {
    zoom: .95 !important;
    left: 8px;
  } */


  .prt-command > *:first-child,
  .prt-command > *:first-child > * {
    z-index: 0;
  }

  .prt-command-chara .prt-special,
  .prt-command-chara .prt-ability-list {
    background: #150F0F;
  }


  /* fast draw */
  /*#cjs-gacha {
    display: none;
  }
  .cnt-result-gacha[style="display:none;"] {
    display: block !important;
  }*/
  /*


  /* hide global footer */
  /* .wrapper {
    padding-bottom: 10px;
  }
  .cnt-global-footer {
    display: none;
  }
  body.jssdk #mobage-game-container .wrapper,
  body.jssdk #gree-game-container .wrapper {
    margin-bottom: -25px !important;
  } */
  /* */
  .cnt-event.multi {
    display: flex;
    flex-direction: column;
  }
  .cnt-event.multi > *:not(.prt-module-frame):not(.prt-event-gacha) {
    order: 1;
    margin-top: 0 !important;
  }
  .cnt-event.multi > .prt-module-frame,
  .cnt-event.multi > .prt-event-gacha {
    order: 0;
  }
  .cnt-event.multi > .prt-module-frame {
    margin-top: 40px;
  }

  .cnt-raid-chat .ico-attention,
  .prt-event-support .prt-event-temporary {
    display: none !important;
  }

  /* fix upgrade's "switch" button */
  /* .cnt-base-status .status .btn-base-chenge {
    margin-top: 1px;
  } */
  /*.prt-command-summon[style*="display: none;"] + * {}*/
  /* .prt-navi {
    top: 160px;
  } */
  .prt-scene-comment {
    font-size: 13.5px;
    font-weight: 400;
  }

  .prt-user-info .prt-info-possessed * {
    font-size: 13px !important;
    line-height: 18px;
  }
  body .prt-supporter-info .prt-supporter-detail .prt-summon-skill:not(.hack) {
    font-size: 8px !important;
    font-weight: bold !important;
    line-height: 9.5px !important;
    margin-bottom: 0 !important;
  }

  /* start: hide gala draw buttons */
  /*.prt-user-menu .prt-link-gacha.fes {
    display: block;
    background: url(https://game-a.granbluefantasy.jp/assets_en/img/sp/mypage/btn-s6cd3cf1890.png) no-repeat 0 -995px;
    background-size: 202px 4704px;
  }

  .prt-global-main .prt-global-gacha.fes {
    display: block;
    background: url('https://game-a.granbluefantasy.jp/assets_en/img/sp/menu/parts_btn-sa56bb9abd1.png') no-repeat 0 -1176px;
    background-size: 135px 3228px;
  }*/
  /* end: hide gala draw button */
  .jssdk #submenu.open #prt-submenu-contents {
    zoom: 0.9725;
  }
  .prt-assist {
    display: flex;
    flex-direction: column;
  }
  .prt-assist-contents {
    order: 1;
  }
  .prt-module-id {
    margin-bottom: 1px;
  }
  .prt-module-id .prt-multi-title,
  .prt-module-id .txt-join-lead {
    display: none;
  }
  .prt-module-id .prt-input {
    padding: 0;
  }
  .prt-module-id .prt-input .prt-input-form {
    display: flex;
    justify-content: center;
    margin: 0;
  }
  .prt-module-id .prt-input .prt-input-form .prt-input-key {
    padding: 0;
    width: calc(100% - 130px);
    margin-right: 5px;
  }
  .prt-module-id .prt-input .prt-input-form .frm-battle-key {
    width: 100%;
    box-sizing: border-box;
    height: 32px;
  }

  /**/
  .btn-show-button > * {
    vertical-align: middle;
  }

  /* minimum height */
  #mobage-game-container,
  #gree-game-container {
    margin-bottom: 0 !important;
    /*padding-bottom: 57.5px;*/
    padding-bottom: 31px;
    /* compensate for footer */
  }
  .wrapper,
  .mask,
  .cnt-quest-scene,
  .cnt-raid,
  .cnt-poker {
    min-height: calc(50vh - 31px) !important;
  }
  @media (max-height: 500px) {
    .cnt-raid {
      min-height: 500px !important;
    }
  }
  @media (max-height: 328px) {
    .wrapper,
    .mask,
    .cnt-quest-scene,
    .cnt-poker {
      min-height: 328px !important;
    }
  }
  /* improve item stats display */
  .prt-list-item-status table {
    width: 70%;
  }
  .prt-list-item-status.locked table {
    margin-left: 5%;
  }
  .prt-list-item-status td:nth-child(2):last-child {
    text-align: right;
  }
  .prt-list-item-status .txt-item-status,
  .prt-list-item-status .prt-item-status {
    font-size: 9.5px;
  }
  #pop-deck .prt-deck-select .prt-deck-wrapper .lis-deck .prt-unit-image .prt-leader .img-leader,
  #pop-deck .prt-deck-select .prt-deck-wrapper .lis-deck .prt-unit-image .lis-party .img-party {
    width: 39px;
    height: 71px;
  }
  #pop-deck .prt-deck-select .prt-deck-wrapper .lis-deck .prt-unit-image .prt-leader [class^="ico-attribute-"] {
    top: 57.5px;
  }
  /* 4 banners per gameplay extra rows */
  .prt-campaign-banners::before {
    border-image: url(https://prd-game-a-granbluefantasy.akamaized.net/assets_en/img/sp/ui/campaign_toggle/campaign_base.png?1511244036) 160 0 60 fill stretch round;
    border-width: 70px 0 30px;
  }
  .prt-campaign-banners {
    min-height: 99px;
    z-index: 2;
  }
  .prt-campaign-banners .btn-banner-s .img-collaboration-s {
    width: 65px;
  }
  /* chat */
  #general-chat.app.chrome #chat-open,
  #submenu-general-chat #chat-open {
    bottom: 32px;
    width: 26px;
    height: 24px;
    right: 0 !important;
    top: 32px !important;
    /*margin: 0 !important;
    left: 32px !important;*/
    z-index: 1000000000;
    background-size: 44px 744px;
    background-position: 0 -128px;
  }
  #submenu-general-chat #chat-body #chat-content {
    top: 32px !important;
    padding-top: 5px;
  }
  /* hide upgrade crap */
  /*.prt-attribute-bonus {
    display: none !important;
  }
  .cnt-confirm-material .txt-evolution-confirm {
    height: 0;
    margin-bottom: 0;
    opacity: 0;
    pointer-events: none;
  }*/

  /* hide crew chat when it doesn't fit */
  @media (max-width: 1600px) {
    #submenu {
      display: none !important;
    }
  }
  /* hide gacha crap */
  /* .cnt-index-gacha #prt-header-img-wrapper, */
  .prt-external-links,
  .prt-header-img-wrapper .img-header-fade,
  .lis-lineup .prt-gacha-infomation {
    display: none;
  }
  .prt-header-img-wrapper {
    height: 172px;
    margin: -28px auto -46px;
    overflow: hidden;
    position: relative;
  }
  .prt-header-img-wrapper > img {
    height: auto;
    width: 100%;
  }
  .prt-header-img-wrapper .prt-cerulean-sparks-wrapper {
    top: 60px;
  }
  /* hide spam notifications */
  .btn-lis-notification.campaign-label,
  .btn-lis-notification[data-href="#static_news/detail/prev_id=20002"] {
    display: none !important;
  }
  /* hide add banners */
  .btn-banner[data-href^="collaboration/campaign/gbvs"] {
    display: none !important;
  }
  /* hide crap tutorials */
  .prt-enhance-note,
  .prt-list-help-balloon {
    display: none;
  }
  /* hide party auto-select button */
  .btn-index-all-setting {
    visibility: hidden;
  }
  /* hide posessions in user card */
  .prt-user-info .prt-info-possessed:not(.box) {
    display: none;
  }
  /* battle - hide button to enable animations */
  .btn-set-skip-special-all.set-off {
    visibility: hidden;
  }
  /* battle - hide players header */
  .prt-multi-mene {
    display: none !important;
  }
  /* darker disabled abilities */
  .prt-command-chara .prt-ability-list .lis-ability [class^="shine"] {
    opacity: .66;
  }
	/* darker disabled elements */
	.prt-item-get.complete {
    filter: brightness(0.66);
	}
  /* compact enhancements */
  .prt-enhance-detail.prt-module-enhancement {
    font-size: 10px;
    line-height: 11.5px;
  }
  .prt-enhance-detail.prt-module-enhancement .prt-module-header {
    font-size: 12px;
    line-height: 12px;
  }
  .cnt-material-status .cnt-material-list,
  .cnt-material-status-item .cnt-material-list,
  .prt-enhance-detail .cnt-material-list {
    padding-bottom: 0;
  }
  .cnt-list-equipment .txt-notice {
    padding: 0;
  }
  .cnt-list-equipment .prt-induce-button .btn-induce,
  .cnt-list-equipment .prt-induce-evo .btn-induce {
    margin: 0 -2px;
  }
  .prt-description-optimization,
  .prt-material-pointer {
    display: none;
  }
  .cnt-material-status .txt-caution-rarity,
  .cnt-material-status-item .txt-caution-rarity,
  .prt-enhance-detail .txt-caution-rarity {
    opacity: 0;
    margin: 0;
  }
  .lis-treasure .prt-treasure-count .txt-treasure-count {
    font-size: 16px !important;
    padding: 2px 0;
  }
  /* crop class images on chat */
  #chat-body .lis-log .img-character-log,
  #chat-activenotice .lis-log .img-character-log {
    /*clip: rect(0px, 46px, 30px, 0px);*/
    clip: rect(0px, 32px, 30px, 0px);
  }
  #chat-body .lis-log .txt-log,
  #chat-activenotice .lis-log .txt-log {
    padding-left: 36px !important;
  }
  /* smaller stamps, with real size zoom on hover */
  .txt-balloon-comment {
    overflow: visible !important;
  }
  .txt-balloon-comment .img-stamp,
  .txt-log .img-stamp {
    width: 60px !important;
    z-index: 10;
    position: relative;
    transition: .1s;
  }
  .txt-balloon-comment .img-stamp,
  .txt-log .img-stamp {
    margin: -15px !important;
    transform: scale(.5);
  }
  .txt-balloon-comment .img-stamp:hover,
  .txt-log .img-stamp:hover {
    transform: scale(1);
  }
  .txt-balloon-comment .img-stamp {
    background: #ecedeb;
    box-shadow: 0 0 4px #ecedeb, 0 0 4px #ecedeb, 0 0 4px #ecedeb;
  }
  .txt-log .img-stamp {
    background: black;
    box-shadow: 0 0 4px black, 0 0 4px black, 0 0 4px black;
  }
  .prt-log-display .prt-log-each .txt-log-message {
    padding: 0 5px 0 15px;
  }
  .cnt-quest-scene .btn-skip {
    top: 422px;
  }
  /*  */
  .cnt-quest-command {
    background: url(https://i.imgur.com/Rxdv5uY.png) no-repeat;
    background-size: 320px 320px;
  }
  .cnt-base-status .status .prt-title.text-small {
    font-size: 11px;
    line-height: 10px;
  }
  .cnt-weapon-list .prt-weapon-list .prt-skill .prt-slv-value .txt-slv-value {
    margin-bottom: 1.5px;
  }
  div.prt-symbolmark {
    margin-top: 0 !important;
  }
  .prt-blank-story {
    display: none !important;
  }
  /* highlight side stories exchanges left */
  [data-story-id="zzzz"] {
    filter: none !important;
    opacity: 1 !important;
  }
  /* crap removal */
  .cnt-extra-lb .img-tips,
  .btn-thumbnail.btn-grapass-banner,
  .btn-banner-s[data-href*="collaboration/campaign/gbvs"],
  .btn-banner-s[data-href="beginnercomic"],
  .btn-banner-s[data-href="premium"],
  .btn-banner[data-external-href*="granbluefantasy-campaign.mobage.jp"],
  .btn-banner[data-href*="gacha/campaign"],
  .btn-banner[data-href*="gacha/skin"],
  .btn-banner[data-href*="shop/skin"],
  .btn-banner[data-href*="sidestory/story/"],
  .btn-banner[data-href="manariafriends"],
  .btn-banner[href*="anime.granbluefantasy.jp"],
  .btn-check-seraphic,
  .prt-campaign-banners .btn-banner-s img[src*="banner_anime.png"],
  .prt-scene-comment-after-mask,
  .prt-config-balloon,
  .btn-weapon-all,
  .btn-summon-all,
  .btn-mainweapon-fix,
  .btn-change-sex.type-1,
  .prt-self-introduction .prt-sns-one:nth-child(2),
  #prt-comic-banner,
  #prt-assist-id .txt-offer-lead,
  #prt-assist-id .prt-assist-tips {
    display: none !important;
  }
  .prt-self-introduction .prt-sns-one,
  .prt-self-introduction .txt-twitter-recover-comment {
    width: 152px !important;
  }
  .cnt-extra-lb .btn-select-augment-item {
    margin-top: 0;
  }
  #chat-input.btn-general-chat,
  #chat-send,
  #chat-stamp {
    cursor: pointer;
  }
  textarea:focus {
    outline: none;
  }
  #submenu #cnt-submenu-navi-vertical {
    background: black !important
  }
  /* compact battle confirmation */
  .txt-deck-confirm {
    min-height: 60px;
  }
  .txt-deck-confirm .txt-limit {
    font-size: 10px;
    font-style: italic;
  }
  /* */
  .prt-damage-num [class*="count"] {
    min-width: 17px;
  }
  .prt-damage-num .count-1 {
    background-position-x: 4px !important;
  }
  .prt-frame::before,
  .prt-module-item-list::before {
    border-image: url(https://i.imgur.com/DSVSl9I.png) 80 0 82 fill stretch round;
  }
  .prt-buttons {
    margin-bottom: 4px;
  }
  /* party characters / summons */
  /* #prt-pc + div + .prt-contents:not(.large) .cnt-weapon-list {
    background-image: url(https://i.imgur.com/XTnzQ2v.png);
    background-position: -2.5px 0;
    background-size: 326px 661px;
  }
  #prt-pc + div + .prt-contents:not(.large) .cnt-summon-list {
    background-image: url(https://i.imgur.com/XTnzQ2v.png);
    background-position: -2.5px -332px;
    background-size: 326px 661px;
  }
  #prt-pc + div + .prt-contents:not(.large) .cnt-weapon-list,
  #prt-pc + div + .prt-contents:not(.large) .cnt-summon-list {
    height: 308px;
  }
  #prt-pc + div + .prt-contents:not(.large) .cnt-weapon-list .btn-mainweapon-fix,
  #prt-pc + div + .prt-contents:not(.large) .cnt-weapon-list .btn-weapon-display-change {
    top: 270px;
  } */
  .cnt-weapon-list .prt-weapon-list.is-companion .cnt-weapon-sub .lis-weapon-sub {
    margin-bottom: 0;
  }
  .pop-usual .txt-popup-body,
  .pop-usual .txt-popup-body-sm,
  .pop-usual .txt-popup-body .txt-explain {
    font-size: 10px;
    line-height: 1.15;
  }
  .pop-usual .txt-popup-body > *,
  .pop-usual .txt-popup-body-sm > * {
    font-size: 12px;
    line-height: 1.2;
  }
  .pop-usual .prt-popup-frame,
  .pop-notification-list .prt-notification-list .btn-lis-notification {
    font-size: 11px;
    line-height: 1.2;
  }
  .pop-usual .btn-show-button {
    font-size: 11px;
    line-height: 1.5;
  }
  .pop-exp .prt-arcarum-point-box .txt-point-title::before {
    top: -8.5px;
  }
  /* 6 items per row in supplies when not filtering */
  /* .prt-item-contents.item-filter .prt-item-filter .prt-module-item-list:not(.type-filter) .prt-item-inner .lis-item {
    margin: 0 2.5px !important;
  } */
  /* 6 items per row in supplies when filtering */
  /* .prt-item-contents.item-filter .prt-item-filter .prt-module-item-list.type-filter .prt-item-inner .lis-item {
    transform: scale(.78);
    height: 86px;
    margin: -16px -2.51px !important;
  } */
  .prt-item-contents.item-filter .prt-item-filter .prt-module-item-list .prt-item-inner .prt-line {
    height: 64px;
  }
  /* glowless footer */
  #treasure-footer .cnt-treasure-footer,
  #treasure-footer .cnt-treasure-footer.plain {
    background: url(https://i.imgur.com/J0uhDGM.png) no-repeat 0 6.5px;
    background-size: 100%;
    bottom: -10.5px;
  }
  /* explanation */
  .prt-attention-box .prt-attention-body,
  .prt-gacha-about .prt-about-body {
    background: transparent;
  }
  /* */
  .prt-lupi-lineup .prt-gacha-infomation::before {
    border: none;
  }
  .prt-user-scene {
    height: 416px;
  }
  .cnt-mypage .prt-banner.margin-top-small,
  .cnt-mypage .prt-banner {
    margin-top: -28px;
  }

  .cnt-mypage .prt-banner.display-off {
    margin-top: 0;
  }
  .prt-town-scene .prt-town-bg .img-town {
    height: 456px;
  }
  /*show-town*/
  .cnt-mypage {
    display: flex;
    flex-direction: column
  }
  .lis-banner {
    margin-bottom: -4px;
  }
  /* black background in scenes */
  .prt-scene-comment {
    background: url(https://i.imgur.com/PX0mVyE.png) no-repeat 0 0;
    background-size: 320px auto;
  }
  /* fix header position */
  .pop-global-menu {
    box-sizing: border-box;
    height: 100%;
    overflow: auto;
  }

  .pop-global-menu .prt-global-banner:last-of-type {
    padding-bottom: 30px;
  }

  @media (max-width: 1920px) {
    .prt-scene-comment .prt-message-area .txt-message {
      font-size: 12.5px;
    }
  }
  /* hide arca vyrn images */
  #cnt-arcarum-stage .cnt-division-list .prt-division-list .img-blank-division {
    display: none;
  }
  #cnt-arcarum .prt-arcarum-frame .prt-frame-main,
  #cnt-arcarum-stage .prt-arcarum-frame .prt-frame-main {
    align-items: center;
    display: flex;
    justify-content: center;
    flex-direction: column;
  }
}

@-moz-document url-prefix("https://game.granbluefantasy.jp/#raid/") {
  /* click through modal backdrops */
  .mask {
    min-height: 0 !important;
    height: 0;
  }
}

@-moz-document url-prefix("https://game.granbluefantasy.jp/#comic/") {
  header,
  .prt-episode-title,
  footer {
    display: none !important;
  }
  .cnt-comic-episode {
    padding: 0;
  }
  .wrapper,
  .cnt-comic-episode {
    background: black;
  }
}

@-moz-document regexp("https:\\/\\/game\\.granbluefantasy\\.jp\\/.*\\/scene.*"), regexp("https:\\/\\/game\\.granbluefantasy\\.jp\\/.*#raidz.*") {
  /* hide footer when dispensable */
  #treasure-footer {
    display: none;
  }
  #mobage-game-container,
  #gree-game-container {
    padding-bottom: 0;
  }
  /*  */
  /*.prt-sel-area .prt-sel-inner {
    bottom: 50px;
  }
  .prt-sel-area .prt-sel-inner.prt-one-sel {
    bottom: 80px;
  }*/
  .prt-sel-area .prt-sel-inner.has-1-sel {
    top: 288px;
  }
  .prt-sel-area .prt-sel-inner.has-2-sel {
    top: 260px;
  }
}

@-moz-document url("https://game.granbluefantasy.jp/#quest/assist/event") {
  /* hide stuff on event raids page */
  #prt-assist-id,
  .prt-lead {
    display: none;
  }
}/* ==UserStyle==
@name           Empty @name replaces the default template - 4/9/2022, 12:36:12 PM
@namespace      github.com/openstyles/stylus
@version        1.0.0
@description    A new userstyle
@author         Me
==/UserStyle== */

@-moz-document domain("example.com") {
  /* Insert code here... */
}